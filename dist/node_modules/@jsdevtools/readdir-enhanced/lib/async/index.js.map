{"version":3,"file":"index.js","sources":["../../../../../../node_modules/@jsdevtools/readdir-enhanced/lib/async/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdirAsync = void 0;\nconst fs = require(\"fs\");\nconst directory_reader_1 = require(\"../directory-reader\");\nconst for_each_1 = require(\"./for-each\");\nconst asyncFacade = { fs, forEach: for_each_1.asyncForEach };\nfunction readdirAsync(dir, options, callback) {\n    if (typeof options === \"function\") {\n        callback = options;\n        options = undefined;\n    }\n    let promise = new Promise((resolve, reject) => {\n        let results = [];\n        let reader = new directory_reader_1.DirectoryReader(dir, options, asyncFacade);\n        let stream = reader.stream;\n        stream.on(\"error\", (err) => {\n            reject(err);\n            stream.pause();\n        });\n        stream.on(\"data\", (result) => {\n            results.push(result);\n        });\n        stream.on(\"end\", () => {\n            resolve(results);\n        });\n    });\n    if (callback) {\n        promise.then((results) => callback(null, results), (err) => callback(err, undefined));\n    }\n    else {\n        return promise;\n    }\n}\nexports.readdirAsync = readdirAsync;\n//# sourceMappingURL=index.js.map"],"names":["require$$1","require$$2"],"mappings":";;;;;;;;AACA,MAAM,CAAC,cAAc,CAAC,KAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;kBAC1C,GAAG,KAAK,EAAE;AAC9B,MAAM,EAAE,GAAG,UAAa,CAAC;AACzB,MAAM,kBAAkB,GAAGA,eAA8B,CAAC;AAC1D,MAAM,UAAU,GAAGC,OAAqB,CAAC;AACzC,MAAM,WAAW,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,UAAU,CAAC,YAAY,EAAE,CAAC;AAC7D,SAAS,YAAY,CAAC,GAAG,EAAE,OAAO,EAAE,QAAQ,EAAE;AAC9C,IAAI,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;AACvC,QAAQ,QAAQ,GAAG,OAAO,CAAC;AAC3B,QAAQ,OAAO,GAAG,SAAS,CAAC;AAC5B,KAAK;AACL,IAAI,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AACnD,QAAQ,IAAI,OAAO,GAAG,EAAE,CAAC;AACzB,QAAQ,IAAI,MAAM,GAAG,IAAI,kBAAkB,CAAC,eAAe,CAAC,GAAG,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;AACvF,QAAQ,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AACnC,QAAQ,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,KAAK;AACpC,YAAY,MAAM,CAAC,GAAG,CAAC,CAAC;AACxB,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC;AAC3B,SAAS,CAAC,CAAC;AACX,QAAQ,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,MAAM,KAAK;AACtC,YAAY,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACjC,SAAS,CAAC,CAAC;AACX,QAAQ,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,MAAM;AAC/B,YAAY,OAAO,CAAC,OAAO,CAAC,CAAC;AAC7B,SAAS,CAAC,CAAC;AACX,KAAK,CAAC,CAAC;AACP,IAAI,IAAI,QAAQ,EAAE;AAClB,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,CAAC;AAC9F,KAAK;AACL,SAAS;AACT,QAAQ,OAAO,OAAO,CAAC;AACvB,KAAK;AACL,CAAC;kBACmB,GAAG,YAAY"}